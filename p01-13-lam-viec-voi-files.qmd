---
title: Làm việc với các file trong máy tính
eval: false
---



`Python` rất mạnh trong việc xử lý các vấn đề liên quan đến các file trong máy tính. Hai thư viện được dùng nhiều khi xử lý các file trong máy tính là `glob` và `os`

```{python}
import os, glob
```

## Liệt kê các file theo định dạng

```{python}
file_name = []
for extension in ['*.png', '*.py']:
    file_name = file_name + glob.glob(extension)
file_name
```

## Chèn thêm prefix vào tất cả file_name

```{python}
def change_name(file_extension=['*.PNG', '*.JPG', '*.JPEG'], prefix='test'):
    """
    Function to add a prefix in name of files within a folder. It will help organizing files better, 
    especially Images for markdown files without changing much in source code.
    """
    import re, glob, os
    import numpy as np
    file_name_full = []
    for ext in file_extension:
        file_name_full = file_name_full + glob.glob(ext)
    file_name = []
    extension = []
    for file in file_name_full:
        file_name = file_name + [os.path.splitext(file)[0]]
        extension = extension + [os.path.splitext(file)[1]]
    extension = np.array(extension)
    file_name = np.array(file_name)
    # New name, adding prefix
    new_name = [prefix + str(file) + str(ext) for file, ext in zip(file_name, extension)]
    print(new_name)
    # Rename
#    [os.rename(old_name, new_name) for old_name, new_name in zip(file_name_full, new_name)]
```

```{python}
change_name(prefix = "hello-")
```

## Rename 1 file

```python
[os.rename(old_name, new_name) for old_name, new_name in zip(file_name_full, new_name)]
```

## Mở 1 file text, thay đổi và save

```python
file = "my_file.txt"
import re
with open(file, encoding="utf8") as f:
    s = f.read() # Read content của file f, lưu thành s
    s = s.strip() # Remove khoảng trắng đầu và cuối
with open(file,'w', encoding="utf8") as f:
    f.write(s)  # Ghi nội dung của file f dưới dạng s
```


